# Dummy Systemd Service

This repository contains the configuration and script for a simple systemd service designed to run a script at regular intervals. The service logs a message to a file every 10 seconds and can be used to monitor basic system operations or test logging functionality.

## Overview

The project consists of two primary components:
1. A **systemd service** configuration file (`dummy.service`).
2. A **bash script** (`dummy.sh`) that logs a message to a file every 10 seconds.

## Components

### 1. **dummy.service**

The systemd service unit file (`dummy.service`) is responsible for running the `dummy.sh` script as a background service. It will automatically start when the system enters the multi-user runlevel (i.e., after network services are available) and restart the script if it fails.

```ini
[Unit]
Description=Dummy Systemd Service
After=network.target

[Service]
ExecStart=/usr/bin/dummy.sh
StandardOutput=journal
StandardError=journal
Restart=always
User=root
Group=root
SyslogIdentifier=dummy

[Install]
WantedBy=multi-user.target
```

#### Key Sections:
- **[Unit]**
  - `Description`: A brief description of the service.
  - `After=network.target`: Specifies that this service will start after the network service is ready.

- **[Service]**
  - `ExecStart`: The command to run the `dummy.sh` script.
  - `StandardOutput` and `StandardError`: Logs are directed to the system journal.
  - `Restart=always`: Ensures that the service is restarted if it fails or is terminated.
  - `User=root` and `Group=root`: Specifies that the service will run with root privileges.
  - `SyslogIdentifier`: A label used in the system logs to identify this service.

- **[Install]**
  - `WantedBy=multi-user.target`: Ensures the service starts automatically when the system reaches the multi-user runlevel.

### 2. **dummy.sh**

The `dummy.sh` script continuously writes a message to a log file (`/var/log/dummy.log`) every 10 seconds. The script will run indefinitely until the system is shut down or the service is stopped.

```bash
#!/bin/bash

while true; do
    echo "this run after every 10 second" >> /var/log/dummy.log
    sleep 10
done
```

#### Key Features:
- The script uses a `while true` loop to run indefinitely.
- Every 10 seconds, it appends a message to the log file (`/var/log/dummy.log`).
- The `sleep 10` command ensures that the script runs at 10-second intervals.

## Installation Instructions

1. **Clone the repository** or copy the files to your server:
   ```bash
   git clone https://github.com/janisadhi/Dummy-Systemd-Service.git
   cd Dummy-Systemd-Service
   ```

2. **Place the service and script files** in the appropriate locations:
   - Copy `dummy.service` to `/etc/systemd/system/`.
   - Copy `dummy.sh` to `/usr/bin/`.

3. **Set execute permissions** on the `dummy.sh` script:
   ```bash
   sudo chmod +x /usr/bin/dummy.sh
   ```

4. **Reload systemd** to recognize the new service:
   ```bash
   sudo systemctl daemon-reload
   ```

5. **Enable and start the service**:
   ```bash
   sudo systemctl enable dummy.service
   sudo systemctl start dummy.service
   ```

6. **Check the status of the service**:
   ```bash
   sudo systemctl status dummy.service
   ```

7. **View the logs**:
   You can view the logs generated by the service using:
   ```bash
   journalctl -u dummy.service
   ```

8. **Stop the service**:
   If you need to stop the service:
   ```bash
   sudo systemctl stop dummy.service
   ```

___
This project is part of [Janis Adhikari's](https://roadmap.sh/projects/dummy-systemd-service)  DevOps projects.